<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Sass::Plugin::Compiler
  
    &mdash; Sass Documentation
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Sass.html" title="Sass (module)">Sass</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Plugin.html" title="Sass::Plugin (module)">Plugin</a></span></span>
     &raquo; 
    <span class="title">Compiler</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Sass::Plugin::Compiler
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Sass::Plugin::Compiler</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
      <dt class="r2">Extended by:</dt>
      <dd class="r2"><span class='object_link'><a href="../Callbacks.html" title="Sass::Callbacks (module)">Callbacks</a></span></dd>
      
    
  
    
      <dt class="r1">Includes:</dt>
      <dd class="r1"><span class='object_link'><a href="Configuration.html" title="Sass::Plugin::Configuration (module)">Configuration</a></span>, <span class='object_link'><a href="../Util.html" title="Sass::Util (module)">Util</a></span></dd>
      
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/plugin/compiler.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The Compiler class handles compilation of multiple files and/or directories, including checking which CSS files are out-of-date and need to be updated and calling Sass to perform the compilation on those files.</p>

<p><span class='object_link'><a href="../Plugin.html" title="Sass::Plugin (module)">Sass::Plugin</a></span> uses this class to update stylesheets for a single application. Unlike <span class='object_link'><a href="../Plugin.html" title="Sass::Plugin (module)">Sass::Plugin</a></span>, though, the Compiler class has no global state, and so multiple instances may be created and used independently.</p>

<p>If you need to compile a Sass string into CSS, please see the <span class='object_link'><a href="../Engine.html" title="Sass::Engine (class)">Engine</a></span> class.</p>

<p>Unlike <span class='object_link'><a href="../Plugin.html" title="Sass::Plugin (module)">Sass::Plugin</a></span>, this class doesn???t keep track of whether or how many times a stylesheet should be updated. Therefore, the following <code>Sass::Plugin</code> options are ignored by the Compiler:</p>

<ul>
<li><code>:never_update</code></li>

<li><code>:always_check</code></li>
</ul>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="../Util.html" title="Sass::Util (module)">Util</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Util.html#RUBY_ENGINE-constant" title="Sass::Util::RUBY_ENGINE (constant)">Util::RUBY_ENGINE</a></span>, <span class='object_link'><a href="../Util.html#RUBY_VERSION-constant" title="Sass::Util::RUBY_VERSION (constant)">Util::RUBY_VERSION</a></span></p>





  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#engine_options-instance_method" title="#engine_options (instance method)">- ({Symbol =&gt; Object}) <strong>engine_options</strong>(additional_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Non-destructively modifies <span class='object_link'><a href="Configuration.html#options-instance_method" title="Sass::Plugin::Configuration#options (method)">Sass::Plugin::Configuration#options</a></span> so that default values are properly set, and returns the result.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Compiler) <strong>initialize</strong>(options = {}) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new compiler.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_updating_stylesheet_with_deprecation_warning-instance_method" title="#on_updating_stylesheet_with_deprecation_warning (instance method)">- <strong>on_updating_stylesheet_with_deprecation_warning</strong>(&amp;block) </a>
    

    
      (also: #on_updating_stylesheet)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stylesheet_needs_update%3F-instance_method" title="#stylesheet_needs_update? (instance method)">- (Boolean) <strong>stylesheet_needs_update?</strong>(css_file, template_file) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Compass expects this to exist.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_stylesheets-instance_method" title="#update_stylesheets (instance method)">- <strong>update_stylesheets</strong>(individual_files = []) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Updates out-of-date stylesheets.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#watch-instance_method" title="#watch (instance method)">- <strong>watch</strong>(individual_files = []) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Watches the template directory (or directories) and updates the CSS files whenever the related Sass/SCSS files change.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Callbacks.html" title="Sass::Callbacks (module)">Callbacks</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Callbacks.html#define_callback-instance_method" title="Sass::Callbacks#define_callback (method)">define_callback</a></span>, <span class='object_link'><a href="../Callbacks.html#extended-class_method" title="Sass::Callbacks.extended (method)">extended</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Configuration.html" title="Sass::Plugin::Configuration (module)">Configuration</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Configuration.html#add_template_location-instance_method" title="Sass::Plugin::Configuration#add_template_location (method)">#add_template_location</a></span>, <span class='object_link'><a href="Configuration.html#default_options-instance_method" title="Sass::Plugin::Configuration#default_options (method)">#default_options</a></span>, <span class='object_link'><a href="Configuration.html#options-instance_method" title="Sass::Plugin::Configuration#options (method)">#options</a></span>, <span class='object_link'><a href="Configuration.html#options%3D-instance_method" title="Sass::Plugin::Configuration#options= (method)">#options=</a></span>, <span class='object_link'><a href="Configuration.html#remove_template_location-instance_method" title="Sass::Plugin::Configuration#remove_template_location (method)">#remove_template_location</a></span>, <span class='object_link'><a href="Configuration.html#reset%21-instance_method" title="Sass::Plugin::Configuration#reset! (method)">#reset!</a></span>, <span class='object_link'><a href="Configuration.html#template_location_array-instance_method" title="Sass::Plugin::Configuration#template_location_array (method)">#template_location_array</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Util.html" title="Sass::Util (module)">Util</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Util.html#abstract-instance_method" title="Sass::Util#abstract (method)">#abstract</a></span>, <span class='object_link'><a href="../Util.html#ap_geq%3F-instance_method" title="Sass::Util#ap_geq? (method)">#ap_geq?</a></span>, <span class='object_link'><a href="../Util.html#ap_geq_3%3F-instance_method" title="Sass::Util#ap_geq_3? (method)">#ap_geq_3?</a></span>, <span class='object_link'><a href="../Util.html#array_minus-instance_method" title="Sass::Util#array_minus (method)">#array_minus</a></span>, <span class='object_link'><a href="../Util.html#atomic_create_and_write_file-instance_method" title="Sass::Util#atomic_create_and_write_file (method)">#atomic_create_and_write_file</a></span>, <span class='object_link'><a href="../Util.html#av_template_class-instance_method" title="Sass::Util#av_template_class (method)">#av_template_class</a></span>, <span class='object_link'><a href="../Util.html#caller_info-instance_method" title="Sass::Util#caller_info (method)">#caller_info</a></span>, <span class='object_link'><a href="../Util.html#check_encoding-instance_method" title="Sass::Util#check_encoding (method)">#check_encoding</a></span>, <span class='object_link'><a href="../Util.html#check_range-instance_method" title="Sass::Util#check_range (method)">#check_range</a></span>, <span class='object_link'><a href="../Util.html#check_sass_encoding-instance_method" title="Sass::Util#check_sass_encoding (method)">#check_sass_encoding</a></span>, <span class='object_link'><a href="../Util.html#destructure-instance_method" title="Sass::Util#destructure (method)">#destructure</a></span>, <span class='object_link'><a href="../Util.html#enum_cons-instance_method" title="Sass::Util#enum_cons (method)">#enum_cons</a></span>, <span class='object_link'><a href="../Util.html#enum_slice-instance_method" title="Sass::Util#enum_slice (method)">#enum_slice</a></span>, <span class='object_link'><a href="../Util.html#enum_with_index-instance_method" title="Sass::Util#enum_with_index (method)">#enum_with_index</a></span>, <span class='object_link'><a href="../Util.html#extract%21-instance_method" title="Sass::Util#extract! (method)">#extract!</a></span>, <span class='object_link'><a href="../Util.html#extract_values-instance_method" title="Sass::Util#extract_values (method)">#extract_values</a></span>, <span class='object_link'><a href="../Util.html#flatten-instance_method" title="Sass::Util#flatten (method)">#flatten</a></span>, <span class='object_link'><a href="../Util.html#glob-instance_method" title="Sass::Util#glob (method)">#glob</a></span>, <span class='object_link'><a href="../Util.html#group_by_to_a-instance_method" title="Sass::Util#group_by_to_a (method)">#group_by_to_a</a></span>, <span class='object_link'><a href="../Util.html#has%3F-instance_method" title="Sass::Util#has? (method)">#has?</a></span>, <span class='object_link'><a href="../Util.html#hash_to_a-instance_method" title="Sass::Util#hash_to_a (method)">#hash_to_a</a></span>, <span class='object_link'><a href="../Util.html#inject_values-instance_method" title="Sass::Util#inject_values (method)">#inject_values</a></span>, <span class='object_link'><a href="../Util.html#inspect_obj-instance_method" title="Sass::Util#inspect_obj (method)">#inspect_obj</a></span>, <span class='object_link'><a href="../Util.html#intersperse-instance_method" title="Sass::Util#intersperse (method)">#intersperse</a></span>, <span class='object_link'><a href="../Util.html#ironruby%3F-instance_method" title="Sass::Util#ironruby? (method)">#ironruby?</a></span>, <span class='object_link'><a href="../Util.html#jruby1_6%3F-instance_method" title="Sass::Util#jruby1_6? (method)">#jruby1_6?</a></span>, <span class='object_link'><a href="../Util.html#jruby%3F-instance_method" title="Sass::Util#jruby? (method)">#jruby?</a></span>, <span class='object_link'><a href="../Util.html#jruby_version-instance_method" title="Sass::Util#jruby_version (method)">#jruby_version</a></span>, <span class='object_link'><a href="../Util.html#lcs-instance_method" title="Sass::Util#lcs (method)">#lcs</a></span>, <span class='object_link'><a href="../Util.html#macruby%3F-instance_method" title="Sass::Util#macruby? (method)">#macruby?</a></span>, <span class='object_link'><a href="../Util.html#map_hash-instance_method" title="Sass::Util#map_hash (method)">#map_hash</a></span>, <span class='object_link'><a href="../Util.html#map_keys-instance_method" title="Sass::Util#map_keys (method)">#map_keys</a></span>, <span class='object_link'><a href="../Util.html#map_vals-instance_method" title="Sass::Util#map_vals (method)">#map_vals</a></span>, <span class='object_link'><a href="../Util.html#merge_adjacent_strings-instance_method" title="Sass::Util#merge_adjacent_strings (method)">#merge_adjacent_strings</a></span>, <span class='object_link'><a href="../Util.html#ord-instance_method" title="Sass::Util#ord (method)">#ord</a></span>, <span class='object_link'><a href="../Util.html#paths-instance_method" title="Sass::Util#paths (method)">#paths</a></span>, <span class='object_link'><a href="../Util.html#powerset-instance_method" title="Sass::Util#powerset (method)">#powerset</a></span>, <span class='object_link'><a href="../Util.html#rails_env-instance_method" title="Sass::Util#rails_env (method)">#rails_env</a></span>, <span class='object_link'><a href="../Util.html#rails_root-instance_method" title="Sass::Util#rails_root (method)">#rails_root</a></span>, <span class='object_link'><a href="../Util.html#rbx%3F-instance_method" title="Sass::Util#rbx? (method)">#rbx?</a></span>, <span class='object_link'><a href="../Util.html#restrict-instance_method" title="Sass::Util#restrict (method)">#restrict</a></span>, <span class='object_link'><a href="../Util.html#ruby1%3F-instance_method" title="Sass::Util#ruby1? (method)">#ruby1?</a></span>, <span class='object_link'><a href="../Util.html#ruby1_8%3F-instance_method" title="Sass::Util#ruby1_8? (method)">#ruby1_8?</a></span>, <span class='object_link'><a href="../Util.html#ruby1_8_6%3F-instance_method" title="Sass::Util#ruby1_8_6? (method)">#ruby1_8_6?</a></span>, <span class='object_link'><a href="../Util.html#sass_warn-instance_method" title="Sass::Util#sass_warn (method)">#sass_warn</a></span>, <span class='object_link'><a href="../Util.html#scope-instance_method" title="Sass::Util#scope (method)">#scope</a></span>, <span class='object_link'><a href="../Util.html#set_eql%3F-instance_method" title="Sass::Util#set_eql? (method)">#set_eql?</a></span>, <span class='object_link'><a href="../Util.html#set_hash-instance_method" title="Sass::Util#set_hash (method)">#set_hash</a></span>, <span class='object_link'><a href="../Util.html#silence_sass_warnings-instance_method" title="Sass::Util#silence_sass_warnings (method)">#silence_sass_warnings</a></span>, <span class='object_link'><a href="../Util.html#silence_warnings-instance_method" title="Sass::Util#silence_warnings (method)">#silence_warnings</a></span>, <span class='object_link'><a href="../Util.html#strip_string_array-instance_method" title="Sass::Util#strip_string_array (method)">#strip_string_array</a></span>, <span class='object_link'><a href="../Util.html#subsequence%3F-instance_method" title="Sass::Util#subsequence? (method)">#subsequence?</a></span>, <span class='object_link'><a href="../Util.html#substitute-instance_method" title="Sass::Util#substitute (method)">#substitute</a></span>, <span class='object_link'><a href="../Util.html#to_hash-instance_method" title="Sass::Util#to_hash (method)">#to_hash</a></span>, <span class='object_link'><a href="../Util.html#undefined_conversion_error_char-instance_method" title="Sass::Util#undefined_conversion_error_char (method)">#undefined_conversion_error_char</a></span>, <span class='object_link'><a href="../Util.html#version_geq-instance_method" title="Sass::Util#version_geq (method)">#version_geq</a></span>, <span class='object_link'><a href="../Util.html#version_gt-instance_method" title="Sass::Util#version_gt (method)">#version_gt</a></span>, <span class='object_link'><a href="../Util.html#windows%3F-instance_method" title="Sass::Util#windows? (method)">#windows?</a></span>, <span class='object_link'><a href="../Util.html#with_extracted_values-instance_method" title="Sass::Util#with_extracted_values (method)">#with_extracted_values</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Sass::Plugin::Compiler (class)">Compiler</a></span></tt>) <strong>initialize</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a new compiler.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>{Symbol =&gt; Object}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>See <a href="../../file.SASS_REFERENCE.html#sass_options" title="the Sass options documentation">the Sass options documentation</a>.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/plugin/compiler.rb', line 37</span>

def initialize(options = {})
  self.options.merge!(options)
end</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="engine_options-instance_method">
  
    - (<tt>{Symbol =&gt; Object}</tt>) <strong>engine_options</strong>(additional_options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Non-destructively modifies <span class='object_link'><a href="Configuration.html#options-instance_method" title="Sass::Plugin::Configuration#options (method)">Sass::Plugin::Configuration#options</a></span> so that default values are properly set, and returns the result.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>additional_options</span>
      
      
        <span class='type'>(<tt>{Symbol =&gt; Object}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>An options hash with which to merge <span class='object_link'><a href="Configuration.html#options-instance_method" title="Sass::Plugin::Configuration#options (method)">Sass::Plugin::Configuration#options</a></span></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>{Symbol =&gt; Object}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The modified options hash</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


302
303
304
305
306</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/plugin/compiler.rb', line 302</span>

def engine_options(additional_options = {})
  opts = options.merge(additional_options)
  opts[:load_paths] = load_paths(opts)
  opts
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_updating_stylesheet_with_deprecation_warning-instance_method">
  
    - <strong>on_updating_stylesheet_with_deprecation_warning</strong>(&amp;block) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='on_updating_stylesheet-instance_method'>on_updating_stylesheet</span></span>
    </span>
  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/plugin/compiler.rb', line 86</span>

def on_updating_stylesheet_with_deprecation_warning(&amp;block)
  Sass::Util.sass_warn(&quot;Sass::Compiler#on_updating_stylesheet callback is deprecated and will be removed in a future release. Use Sass::Compiler#on_updated_stylesheet instead, which is run after stylesheet compilation.&quot;)
  on_updating_stylesheet_without_deprecation_warning(&amp;block)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stylesheet_needs_update?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>stylesheet_needs_update?</strong>(css_file, template_file) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Compass expects this to exist</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


309
310
311</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/plugin/compiler.rb', line 309</span>

def stylesheet_needs_update?(css_file, template_file)
  StalenessChecker.stylesheet_needs_update?(css_file, template_file)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_stylesheets-instance_method">
  
    - <strong>update_stylesheets</strong>(individual_files = []) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Updates out-of-date stylesheets.</p>

<p>Checks each Sass/SCSS file in <a href="../../file.SASS_REFERENCE.html#template_location-option" title="&lt;code&gt;:template_location&lt;/code&gt;"><code>:template_location</code></a> to see if it???s been modified more recently than the corresponding CSS file in <a href="../../file.SASS_REFERENCE.html#css_location-option" title="&lt;code&gt;:css_location&lt;/code&gt;"><code>:css_location</code></a>. If it has, it updates the CSS file.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>individual_files</span>
      
      
        <span class='type'>(<tt>Array&lt;(String, String)&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>A list of files to check for updates <strong>in addition to those specified by the <a href="../../file.SASS_REFERENCE.html#template_location-option" title="&lt;code&gt;:template_location&lt;/code&gt; option"><code>:template_location</code> option</a>.</strong> The first string in each pair is the location of the Sass/SCSS file, the second is the location of the CSS file that it should be compiled to.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/plugin/compiler.rb', line 185</span>

def update_stylesheets(individual_files = [])
  individual_files = individual_files.dup
  Sass::Plugin.checked_for_updates = true
  staleness_checker = StalenessChecker.new(engine_options)

  template_location_array.each do |template_location, css_location|
    Sass::Util.glob(File.join(template_location, &quot;**&quot;, &quot;[^_]*.s[ca]ss&quot;)).sort.each do |file|
      # Get the relative path to the file
      name = file.sub(template_location.to_s.sub(/\/*$/, '/'), &quot;&quot;)
      css = css_filename(name, css_location)
      individual_files &lt;&lt; [file, css]
    end
  end

  run_updating_stylesheets individual_files

  individual_files.each do |file, css|
    if options[:always_update] || staleness_checker.stylesheet_needs_update?(css, file)
      update_stylesheet(file, css)
    else
      run_not_updating_stylesheet(file, css)
    end
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="watch-instance_method">
  
    - <strong>watch</strong>(individual_files = []) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Watches the template directory (or directories) and updates the CSS files whenever the related Sass/SCSS files change. <code>watch</code> never returns.</p>

<p>Whenever a change is detected to a Sass/SCSS file in <a href="../../file.SASS_REFERENCE.html#template_location-option" title="&lt;code&gt;:template_location&lt;/code&gt;"><code>:template_location</code></a>, the corresponding CSS file in <a href="../../file.SASS_REFERENCE.html#css_location-option" title="&lt;code&gt;:css_location&lt;/code&gt;"><code>:css_location</code></a> will be recompiled. The CSS files of any Sass/SCSS files that import the changed file will also be recompiled.</p>

<p>Before the watching starts in earnest, <code>watch</code> calls <span class='object_link'><a href="#update_stylesheets-instance_method" title="Sass::Plugin::Compiler#update_stylesheets (method)">#update_stylesheets</a></span>.</p>

<p>Note that <code>watch</code> uses the <a href="http://github.com/guard/listen">Listen</a> library to monitor the filesystem for changes. Listen isn???t loaded until <code>watch</code> is run. The version of Listen distributed with Sass is loaded by default, but if another version has already been loaded that will be used instead.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>individual_files</span>
      
      
        <span class='type'>(<tt>Array&lt;(String, String)&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>A list of files to watch for updates <strong>in addition to those specified by the <a href="../../file.SASS_REFERENCE.html#template_location-option" title="&lt;code&gt;:template_location&lt;/code&gt; option"><code>:template_location</code> option</a>.</strong> The first string in each pair is the location of the Sass/SCSS file, the second is the location of the CSS file that it should be compiled to.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/Users/jlong/Workspaces/sass-lang.org/.sass/lib/sass/plugin/compiler.rb', line 234</span>

def watch(individual_files = [])
  update_stylesheets(individual_files)

  load_listen!

  template_paths = template_locations # cache the locations
  individual_files_hash = individual_files.inject({}) do |h, files|
    parent = File.dirname(files.first)
    (h[parent] ||= []) &lt;&lt; files unless template_paths.include?(parent)
    h
  end
  directories = template_paths + individual_files_hash.keys +
    [{:relative_paths =&gt; true}]

  # TODO: Keep better track of what depends on what
  # so we don't have to run a global update every time anything changes.
  listener = Listen::MultiListener.new(*directories) do |modified, added, removed|
    modified.each do |f|
      parent = File.dirname(f)
      if files = individual_files_hash[parent]
        next unless files.first == f
      else
        next unless f =~ /\.s[ac]ss$/
      end
      run_template_modified(f)
    end

    added.each do |f|
      parent = File.dirname(f)
      if files = individual_files_hash[parent]
        next unless files.first == f
      else
        next unless f =~ /\.s[ac]ss$/
      end
      run_template_created(f)
    end

    removed.each do |f|
      parent = File.dirname(f)
      if files = individual_files_hash[parent]
        next unless files.first == f
        try_delete_css files[1]
      else
        next unless f =~ /\.s[ac]ss$/
        try_delete_css f.gsub(/\.s[ac]ss$/, '.css')
      end
      run_template_deleted(f)
    end

    update_stylesheets(individual_files)
  end

  # The native windows listener is much slower than the polling
  # option, according to https://github.com/nex3/sass/commit/a3031856b22bc834a5417dedecb038b7be9b9e3e#commitcomment-1295118
  listener.force_polling(true) if @options[:poll] || Sass::Util.windows?

  begin
    listener.start
  rescue Exception =&gt; e
    raise e unless e.is_a?(Interrupt)
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Sun Oct 13 12:06:16 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.2 (ruby-1.9.3).
</div>



  </body>
</html>